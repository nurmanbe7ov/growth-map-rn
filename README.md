# Growth Map – React Native

Приложение для отображения карты развития с последовательным открытием учебных модулей.

## Запуск проекта

```bash
npm install
npm run ios
npm run android
npm run web
```

## Demo

Запустить компонент можно через Expo Snack:  
[https://snack.expo.dev/@earl_earl/growth-map-rn](https://snack.expo.dev/@earl_earl/growth-map-rn)


## Архитектура базы данных (Supabase / Postgres)

### Какие таблицы нужны?

1. **`users`** — используется стандартная таблица `auth.users` от Supabase
2. **`lessons`** — список всех обучающих модулей (`id`, `title`, `order_index`)
3. **`user_lessons`** — прогресс пользователя по урокам (`user_id`, `lesson_id`, `status`, уникальный ключ `(user_id, lesson_id)`)

### Как связать пользователя и статус урока?

Через таблицу `user_lessons`:
- Связка `(user_id + lesson_id)` определяет прогресс конкретного пользователя по конкретному уроку
- Статус хранится в поле `status` ('done' | 'active' | 'locked')
- Статус каждого урока индивидуален для каждого пользователя

### Как эффективно отдавать на фронтенд список, где сразу понятно, что открыто, а что закрыто?

Один запрос к бэкенду:

- Бэкенд возвращает список всех уроков
- Для каждого урока сразу определён его статус для пользователя (`done` / `active` / `locked`)
- Вся бизнес-логика вычисления статусов находится на бэкенде

**Результат для фронтенда:**
```json
[
  { "id": 1, "title": "Welcome Journey", "status": "done" },
  { "id": 2, "title": "Переключение на себя", "status": "active" },
  { "id": 3, "title": "Источник вдохновения", "status": "locked" }
]
```

Фронтенд получает готовый список со статусами, вычисленными на бэкенде, и сразу отображает корректное состояние без дополнительной бизнес-логики.
